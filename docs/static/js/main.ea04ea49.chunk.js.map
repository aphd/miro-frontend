{"version":3,"sources":["services/spreadsheet/outTable.jsx","services/spreadsheet/dragDropFile.jsx","services/spreadsheet/dataInput.jsx","services/spreadsheet/spreadsheet.jsx","services/plot/bar.jsx","services/plot/pie.jsx","services/plot/box-plot.jsx","services/plot/box-or-violin-plot.jsx","services/plot/box.jsx","utils/utils.jsx","services/plot/heat-map.jsx","reducer/reducer.jsx","App.jsx","services/plot/plot.jsx","index.js"],"names":["OutTable","_this","this","react_default","a","createElement","className","props","cols","map","c","key","name","data","r","i","React","Component","DragDropFile","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onDrop","bind","assertThisInitialized","evt","stopPropagation","preventDefault","files","dataTransfer","handleFile","onDragEnter","suppress","onDragOver","children","DataInput","handleChange","e","target","type","id","accept","SheetJSFT","onChange","x","join","Spreadsheet","get_data","ws","keys","filter","cellName","match","w","slice","LIMIT","get_cols","o","C","XLSX","utils","decode_range","encode_col","t","Number","head","distinctValuesCount","Array","from","Set","length","state","file","_this2","reader","FileReader","rABS","readAsBinaryString","onload","bstr","result","wb","read","cellDates","wsname","SheetNames","Sheets","sheet_to_json","header","raw","setState","onLoadFile","readAsArrayBuffer","dragDropFile","dataInput","outTable","Bar","acceptedDataframe","Plot","_","countBy","labels","datasets","values","backgroundColor","hoverBackgroundColor","Pie","BoxPlot","BoxOrViolinPlot","canvas","createRef","window","Chart","current","getContext","ref","Box","label","borderColor","borderWidth","outlierRadius","itemRadius","outlierColor","options","responsive","legend","position","scales","xAxes","categoryPercentage","barPercentage","pearsonCorrelation","d1","d2","min","Math","pow","sqrt","add","b","n","_ref","_map","l","reduce","_map2","slicedToArray","sum1","sum2","_map3","_map4","pow1","pow2","mulSum","dense","HeatMap","HighchartsReactHeatMap","getConfigHeatMap","highcharts_react_min_default","highcharts","Highcharts","transformData","categories","v","uniq_v","uniq","concat","indexOf","getNumericValues","apply","toConsumableArray","j","abs","toFixed","title","text","chart","xAxis","yAxis","colorAxis","minColor","maxColor","getOptions","colors","tooltip","formatter","series","point","value","y","dataLabels","enabled","color","Reducer","areFLoat","nums","some","num","areManyCategorical","arePK","normalize","String","replaceMap","Map","set","forEach","newString","old","replace","normalized","App","handleLoadFile","Fragment","plotDispatcher","split","aDF","render","renderPlot","spreadsheet","ReactDOM","src_App_0","document","getElementById","serviceWorker"],"mappings":"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","file":"static/js/main.ea04ea49.chunk.js","sourcesContent":["/*\n  Simple HTML Table\n  usage: <OutTable data={data} cols={cols} />\n    data:Array<Array<any> >;\n    cols:Array<{name:string, key:number|string}>;\n*/\nimport React from \"react\";\n\nclass OutTable extends React.Component {\n    render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            {this.props.cols.map(c => (\n                                <th key={c.key}>{c.name}</th>\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.data.map((r, i) => (\n                            <tr key={i}>\n                                {this.props.cols.map(c => (\n                                    <td key={c.key}>{r[c.key]}</td>\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default OutTable;\n","/*\n  Simple HTML5 file drag-and-drop wrapper\n  usage: <DragDropFile handleFile={handleFile}>...</DragDropFile>\n    handleFile(file:File):void;\n*/\nimport React from \"react\";\n\nclass DragDropFile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onDrop = this.onDrop.bind(this);\n    }\n    suppress(evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n    }\n    onDrop(evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        const files = evt.dataTransfer.files;\n        if (files && files[0]) this.props.handleFile(files[0]);\n    }\n    render() {\n        return (\n            <div\n                onDrop={this.onDrop}\n                onDragEnter={this.suppress}\n                onDragOver={this.suppress}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default DragDropFile;\n","/*\n  Simple HTML5 file input wrapper\n  usage: <DataInput handleFile={callback} />\n    handleFile(file:File):void;\n*/\nimport React from \"react\";\n\nclass DataInput extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(e) {\n        const files = e.target.files;\n        if (files && files[0]) this.props.handleFile(files[0]);\n    }\n    render() {\n        return (\n            <form className=\"form-inline\">\n                <div className=\"form-group\">\n                    <input\n                        type=\"file\"\n                        className=\"form-control\"\n                        id=\"file\"\n                        accept={SheetJSFT}\n                        onChange={this.handleChange}\n                    />\n                </div>\n            </form>\n        );\n    }\n}\n/* list of supported file types */\nconst SheetJSFT = [\n    \"xlsx\",\n    \"xlsb\",\n    \"xlsm\",\n    \"xls\",\n    \"xml\",\n    \"csv\",\n    \"txt\",\n    \"ods\",\n    \"fods\",\n    \"uos\",\n    \"sylk\",\n    \"dif\",\n    \"dbf\",\n    \"prn\",\n    \"qpw\",\n    \"123\",\n    \"wb*\",\n    \"wq*\",\n    \"html\",\n    \"htm\"\n]\n    .map(function(x) {\n        return \".\" + x;\n    })\n    .join(\",\");\n\nexport default DataInput;\n","/* xlsx.js (C) 2013-present  SheetJS -- http://sheetjs.com */\n/* Notes:\n   - usage: `ReactDOM.render( <SheetJSApp />, document.getElementById('app') );`\n   - xlsx.full.min.js is loaded in the head of the HTML page\n   - this script should be referenced with type=\"text/babel\"\n   - babel.js in-browser transpiler should be loaded before this script\n*/\n\nimport React from \"react\";\nimport XLSX from \"xlsx\";\nimport OutTable from \"./outTable\";\nimport DragDropFile from \"./dragDropFile\";\nimport DataInput from \"./dataInput\";\n\nclass Spreadsheet extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [] /* Array of Arrays e.g. [[\"a\",\"b\"],[1,2]] */,\n            cols: [] /* Array of column objects e.g. { name: \"C\", K: 2 } */\n        };\n        this.LIMIT = 1000;\n        this.handleFile = this.handleFile.bind(this);\n    }\n    handleFile(file /*:File*/) {\n        /* Boilerplate to set up FileReader */\n        const reader = new FileReader();\n        const rABS = !!reader.readAsBinaryString;\n        reader.onload = e => {\n            /* Parse data */\n            const bstr = e.target.result;\n            const wb = XLSX.read(bstr, {\n                type: rABS ? \"binary\" : \"array\",\n                cellDates: true\n            });\n            /* Get first worksheet */\n            const wsname = wb.SheetNames[0];\n            const ws = wb.Sheets[wsname];\n            /* Convert array of arrays */\n            const data = XLSX.utils.sheet_to_json(ws, {\n                header: 1,\n                raw: false\n            });\n            /* Update state */\n            this.setState({ data: data, cols: this.get_cols(ws) });\n            this.props.onLoadFile(this.state);\n        };\n        if (rABS) reader.readAsBinaryString(file);\n        else reader.readAsArrayBuffer(file);\n    }\n    /* generate an array of all spreadsheet data */\n\n    get_data = (ws, name) =>\n        Object.keys(ws)\n            .filter(cellName => cellName.match(name))\n            .map(cellName => ws[cellName].w)\n            .slice(0, this.LIMIT);\n\n    get_cols = ws => {\n        let o = [],\n            C = XLSX.utils.decode_range(ws[\"!ref\"]).e.c + 1;\n        for (var i = 0; i < C; ++i) {\n            const name = XLSX.utils.encode_col(i);\n            let data = this.get_data(ws, name);\n            const type = ws[name + \"2\"].t;\n            data =\n                type === \"n\"\n                    ? data.map((o, i) => (i > 0 ? Number(o) : o))\n                    : data;\n            o[i] = {\n                name: name,\n                head: ws[name + \"1\"].w,\n                key: i,\n                type: type,\n                distinctValuesCount: Array.from(new Set(data.slice(1))).length,\n                data: data\n            };\n        }\n        return o;\n    };\n    render() {\n        return (\n            <DragDropFile handleFile={this.handleFile}>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <DataInput handleFile={this.handleFile} />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <OutTable\n                            data={this.state.data.slice(0, this.LIMIT)}\n                            cols={this.state.cols}\n                        />\n                    </div>\n                </div>\n            </DragDropFile>\n        );\n    }\n}\n\nexport default Spreadsheet;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport * as Plot from \"react-chartjs-2\";\n\nclass Bar extends React.Component {\n    acceptedDataframe = () => \"n2P,s2P\";\n    render(props) {\n        return React.createElement(Plot.Bar, {\n            data: getConfigDefault(_.countBy(props.data.slice(1)))\n        });\n    }\n}\n\n// TODO dupicated code\nfunction getConfigDefault(data) {\n    return {\n        labels: Object.keys(data),\n        datasets: [\n            {\n                data: Object.values(data),\n                backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n                hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"]\n            }\n        ]\n    };\n}\n\nexport default Bar;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport * as Plot from \"react-chartjs-2\";\n\nclass Pie extends React.Component {\n    acceptedDataframe = () => \"n1P,s1P\";\n    render(props) {\n        return React.createElement(Plot.Pie, {\n            data: getConfigDefault(_.countBy(props.data.slice(1)))\n        });\n    }\n}\n\nfunction getConfigDefault(data) {\n    return {\n        labels: Object.keys(data),\n        datasets: [\n            {\n                data: Object.values(data),\n                backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n                hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"]\n            }\n        ]\n    };\n}\n\nexport default Pie;\n","import BoxOrViolinPlot from \"./box-or-violin-plot\";\nimport \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\n\nclass BoxPlot extends BoxOrViolinPlot {\n    constructor(props) {\n        super(props);\n    }\n}\n\nexport default BoxPlot;\n","import React from \"react\";\nimport \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\n\nclass BoxOrViolinPlot extends React.Component {\n    constructor(props) {\n        super(props);\n        this.canvas = React.createRef();\n    }\n\n    componentDidMount() {\n        new window.Chart(this.canvas.current.getContext(\"2d\"), this.props.data); // TODO see the issue https://github.com/jerairrest/react-chartjs-2/issues/424\n    }\n\n    render() {\n        return <canvas ref={this.canvas} />;\n    }\n}\n\nexport default BoxOrViolinPlot;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\nimport BoxPlot from \"./box-plot\";\n\nclass Box extends React.Component {\n    acceptedDataframe = () => \"n3P\";\n    render(props) {\n        return React.createElement(BoxPlot, {\n            data: getConfigBox(props)\n        });\n    }\n}\nfunction getConfigBox(o) {\n    // TODO hardcoding\n    return {\n        type: \"boxplot\",\n        data: {\n            datasets: [\n                {\n                    label: o.data[0],\n                    borderColor: \"red\",\n                    borderWidth: 1,\n                    outlierRadius: 3,\n                    itemRadius: 3,\n                    outlierColor: \"#999999\",\n                    data: [o.data.slice(1)]\n                }\n            ]\n        },\n        options: {\n            responsive: true,\n            legend: {\n                position: \"top\"\n            },\n            scales: {\n                xAxes: [\n                    {\n                        categoryPercentage: 0.9,\n                        barPercentage: 0.8\n                    }\n                ]\n            }\n        }\n    };\n}\nexport default Box;\n","/**\n * calculates pearson correlation\n * @param {number[]} d1\n * @param {number[]} d2\n */\nexport function pearsonCorrelation(d1, d2) {\n    let { min, pow, sqrt } = Math;\n    let add = (a, b) => a + b;\n    let n = min(d1.length, d2.length);\n    if (n === 0) {\n        return 0;\n    }\n    [d1, d2] = [d1.slice(0, n), d2.slice(0, n)];\n    let [sum1, sum2] = [d1, d2].map(l => l.reduce(add));\n    let [pow1, pow2] = [d1, d2].map(l => l.reduce((a, b) => a + pow(b, 2), 0));\n    let mulSum = d1.map((n, i) => n * d2[i]).reduce(add);\n    let dense = sqrt((pow1 - pow(sum1, 2) / n) * (pow2 - pow(sum2, 2) / n));\n    if (dense === 0) {\n        return 0;\n    }\n    return (mulSum - (sum1 * sum2) / n) / dense;\n}\n","import React from \"react\";\nimport Highcharts from \"highcharts/highmaps\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport { pearsonCorrelation } from \"../../utils\";\nimport _ from \"lodash\";\n\nclass HeatMap extends React.Component {\n    acceptedDataframe = () => \"heatMap\";\n    render(props) {\n        return React.createElement(HighchartsReactHeatMap, {\n            options: getConfigHeatMap(props)\n        });\n    }\n}\n\nclass HighchartsReactHeatMap extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n    }\n    render() {\n        return (\n            <HighchartsReact\n                highcharts={Highcharts}\n                options={this.props.options}\n            />\n        );\n    }\n}\n\nfunction transformData(data, categories) {\n    data = getNumericValues(data);\n    return [].concat(\n        ...data.map((v, i) =>\n            data\n                .slice(i + 1)\n                .map((w, j) => [\n                    categories.indexOf(v[0]),\n                    categories.indexOf(w[0]),\n                    Math.abs(\n                        pearsonCorrelation(v.slice(1), w.slice(1)).toFixed(1)\n                    )\n                ])\n        )\n    );\n}\n\nfunction getConfigHeatMap(props) {\n    let data = props.data;\n    let categories = data.map(v => v[0]);\n    return {\n        title: {\n            text: null\n        },\n        chart: {\n            type: \"heatmap\"\n        },\n        xAxis: {\n            categories: categories\n        },\n        yAxis: {\n            categories: categories\n        },\n        colorAxis: {\n            min: 0,\n            minColor: \"#FFFFFF\",\n            maxColor: Highcharts.getOptions().colors[0]\n        },\n        tooltip: {\n            formatter: function() {\n                return (\n                    \"<b>\" +\n                    this.series.xAxis.categories[this.point.x] +\n                    \"</b> sold <br><b>\" +\n                    this.point.value +\n                    \"</b> items on <br><b>\" +\n                    this.series.yAxis.categories[this.point.y] +\n                    \"</b>\"\n                );\n            }\n        },\n        series: [\n            {\n                borderWidth: 1,\n                data: transformData(data, categories),\n                dataLabels: {\n                    enabled: true,\n                    color: \"#000000\"\n                }\n            }\n        ]\n    };\n}\n\nfunction getNumericValues(data) {\n    return data.map(v => {\n        if (typeof v[1] === \"string\") {\n            const uniq_v = _.uniq(v.slice(1));\n            return [v[0]].concat(v.slice(1).map(w => uniq_v.indexOf(w)));\n        }\n        return v;\n    });\n}\n\nexport default HeatMap;\n","import React from \"react\";\n\nclass Reducer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props.cols\n            .filter(o => !this.arePK(o))\n            .filter(o => !this.areManyCategorical(o));\n        this.normalize();\n        return this.props;\n    }\n    areFLoat = nums => {\n        return nums.some(num => num % 1 !== 0);\n    };\n    areManyCategorical = o => o.type === \"s\" && o.distinctValuesCount > 5;\n    arePK = o => {\n        return (\n            o.type === \"n\" &&\n            o.distinctValuesCount === o.data.length - 1 &&\n            !this.areFLoat(o.data.slice(1))\n        );\n    };\n    strings2Numbers() {\n        this.props.cols.map(o =>\n            o.type === \"n\" ? o.map((o, i) => (i > 0 ? Number(o) : o)) : o\n        );\n    }\n    normalize() {\n        this.props.map(o => {\n            let result = String(o.distinctValuesCount);\n            let replaceMap = new Map();\n            replaceMap.set(/^[1-3]$/, \"1P\");\n            replaceMap.set(/^[4-9]$/, \"2P\");\n            replaceMap.set(/^[1-9]\\d{1,}$/, \"3P\");\n            replaceMap.forEach(function(newString, old) {\n                result = result.replace(old, o.type + newString);\n            });\n            o.normalized = result;\n        });\n    }\n}\n\nexport default Reducer;\n","import React from \"react\";\nimport \"./App.css\";\nimport SheetJSApp from \"./services/spreadsheet\";\nimport { renderPlot } from \"./services/plot\";\nimport Reducer from \"./reducer\";\n\nclass App extends React.Component {\n    state = {\n        data: [],\n        cols: []\n    };\n    handleLoadFile = state => {\n        this.setState({ cols: new Reducer(state) });\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.state.cols.length > 0 && (\n                    <div className=\"row\">{renderPlot(this.state.cols)}</div>\n                )}\n                <SheetJSApp\n                    data={this.state.data}\n                    onLoadFile={this.handleLoadFile}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport * as Plot from \"../../services/plot/index.jsx\";\n\nexport function renderPlot(cols) {\n    let plotDispatcher = {};\n    Object.values(Plot).forEach(className => {\n        let acceptedDataframes = new className().acceptedDataframe().split(\",\");\n        acceptedDataframes.forEach(aDF => (plotDispatcher[aDF] = className));\n    });\n    cols = cols.concat({\n        normalized: \"heatMap\",\n        data: cols.map(o => o.data)\n    });\n    return cols.map((o, i) => {\n        return React.createElement(\n            \"div\",\n            { className: \"col-lg-4 col-md-6\", key: i },\n            React.createElement(\"h4\", { className: \"text-center\" }, o.data[0]),\n            new plotDispatcher[o.normalized]().render(o)\n        );\n    });\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport * as serviceWorker from 'react-scripts/template/src/serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}