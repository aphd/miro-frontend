{"version":3,"sources":["services/spreadsheet/outTable.jsx","services/spreadsheet/dragDropFile.jsx","services/spreadsheet/dataInput.jsx","services/spreadsheet/spreadsheet.jsx","services/plot/bar.jsx","services/plot/pie.jsx","services/plot/box-plot.jsx","services/plot/box-or-violin-plot.jsx","services/plot/box.jsx","utils/utils.jsx","services/plot/heat-map.jsx","services/plot/line-time-series.jsx","reducer/reducer.jsx","App.jsx","services/plot/plot.jsx","index.js"],"names":["OutTable","_this","this","react_default","a","createElement","className","props","cols","map","c","key","name","data","r","i","React","Component","DragDropFile","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onDrop","bind","assertThisInitialized","evt","stopPropagation","preventDefault","files","dataTransfer","handleFile","onDragEnter","suppress","onDragOver","children","DataInput","handleChange","e","target","type","id","accept","SheetJSFT","onChange","x","join","Spreadsheet","get_data","ws","keys","filter","cellName","match","w","slice","LIMIT","get_cols","o","C","XLSX","utils","decode_range","encode_col","t","Number","head","distinctValuesCount","Array","from","Set","length","state","file","_this2","reader","FileReader","rABS","readAsBinaryString","onload","bstr","result","wb","read","cellDates","wsname","SheetNames","Sheets","sheet_to_json","header","raw","setState","onLoadFile","readAsArrayBuffer","dragDropFile","dataInput","outTable","Bar","acceptedDataframe","Plot","_","countBy","labels","datasets","values","backgroundColor","hoverBackgroundColor","options","title","display","text","Pie","BoxPlot","BoxOrViolinPlot","canvas","createRef","window","Chart","current","getContext","ref","Box","label","borderColor","borderWidth","outlierRadius","itemRadius","outlierColor","responsive","legend","position","scales","xAxes","categoryPercentage","barPercentage","pearsonCorrelation","d1","d2","min","Math","pow","sqrt","add","b","n","_ref","_map","l","reduce","_map2","slicedToArray","sum1","sum2","_map3","_map4","pow1","pow2","mulSum","dense","HeatMap","HighchartsReactPlot","getConfigHeatMap","highcharts_react_min_default","highcharts","Highcharts","transformData","categories","v","uniq_v","uniq","concat","indexOf","getNumericValues","apply","toConsumableArray","j","abs","toFixed","chart","xAxis","yAxis","colorAxis","minColor","maxColor","getOptions","colors","tooltip","formatter","series","point","value","y","dataLabels","enabled","color","LineTimeSeries","getConfig","normalized","Reducer","areFLoat","nums","some","num","areManyCategorical","arePK","normalize","String","replaceMap","Map","set","forEach","newString","old","replace","App","handleLoadFile","Fragment","plotDispatcher","Reflect","construct","aDF","renderPlot","spreadsheet","ReactDOM","render","src_App_0","document","getElementById","serviceWorker"],"mappings":"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","file":"static/js/main.bb36e10e.chunk.js","sourcesContent":["/*\n  Simple HTML Table\n  usage: <OutTable data={data} cols={cols} />\n    data:Array<Array<any> >;\n    cols:Array<{name:string, key:number|string}>;\n*/\nimport React from \"react\";\n\nclass OutTable extends React.Component {\n    render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            {this.props.cols.map(c => (\n                                <th key={c.key}>{c.name}</th>\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.data.map((r, i) => (\n                            <tr key={i}>\n                                {this.props.cols.map(c => (\n                                    <td key={c.key}>{r[c.key]}</td>\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default OutTable;\n","/*\n  Simple HTML5 file drag-and-drop wrapper\n  usage: <DragDropFile handleFile={handleFile}>...</DragDropFile>\n    handleFile(file:File):void;\n*/\nimport React from \"react\";\n\nclass DragDropFile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onDrop = this.onDrop.bind(this);\n    }\n    suppress(evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n    }\n    onDrop(evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        const files = evt.dataTransfer.files;\n        if (files && files[0]) this.props.handleFile(files[0]);\n    }\n    render() {\n        return (\n            <div\n                onDrop={this.onDrop}\n                onDragEnter={this.suppress}\n                onDragOver={this.suppress}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default DragDropFile;\n","/*\n  Simple HTML5 file input wrapper\n  usage: <DataInput handleFile={callback} />\n    handleFile(file:File):void;\n*/\nimport React from \"react\";\n\nclass DataInput extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(e) {\n        const files = e.target.files;\n        if (files && files[0]) this.props.handleFile(files[0]);\n    }\n    render() {\n        return (\n            <form className=\"form-inline\">\n                <div className=\"form-group\">\n                    <input\n                        type=\"file\"\n                        className=\"form-control\"\n                        id=\"file\"\n                        accept={SheetJSFT}\n                        onChange={this.handleChange}\n                    />\n                </div>\n            </form>\n        );\n    }\n}\n/* list of supported file types */\nconst SheetJSFT = [\n    \"xlsx\",\n    \"xlsb\",\n    \"xlsm\",\n    \"xls\",\n    \"xml\",\n    \"csv\",\n    \"txt\",\n    \"ods\",\n    \"fods\",\n    \"uos\",\n    \"sylk\",\n    \"dif\",\n    \"dbf\",\n    \"prn\",\n    \"qpw\",\n    \"123\",\n    \"wb*\",\n    \"wq*\",\n    \"html\",\n    \"htm\"\n]\n    .map(function(x) {\n        return \".\" + x;\n    })\n    .join(\",\");\n\nexport default DataInput;\n","/* xlsx.js (C) 2013-present  SheetJS -- http://sheetjs.com */\n/* Notes:\n   - usage: `ReactDOM.render( <SheetJSApp />, document.getElementById('app') );`\n   - xlsx.full.min.js is loaded in the head of the HTML page\n   - this script should be referenced with type=\"text/babel\"\n   - babel.js in-browser transpiler should be loaded before this script\n*/\n\nimport React from \"react\";\nimport XLSX from \"xlsx\";\nimport OutTable from \"./outTable\";\nimport DragDropFile from \"./dragDropFile\";\nimport DataInput from \"./dataInput\";\n\nclass Spreadsheet extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [] /* Array of Arrays e.g. [[\"a\",\"b\"],[1,2]] */,\n            cols: [] /* Array of column objects e.g. { name: \"C\", K: 2 } */\n        };\n        this.LIMIT = 1000;\n        this.handleFile = this.handleFile.bind(this);\n    }\n    handleFile(file /*:File*/) {\n        /* Boilerplate to set up FileReader */\n        const reader = new FileReader();\n        const rABS = !!reader.readAsBinaryString;\n        reader.onload = e => {\n            /* Parse data */\n            const bstr = e.target.result;\n            const wb = XLSX.read(bstr, {\n                type: rABS ? \"binary\" : \"array\",\n                cellDates: true\n            });\n            /* Get first worksheet */\n            const wsname = wb.SheetNames[0];\n            const ws = wb.Sheets[wsname];\n            /* Convert array of arrays */\n            const data = XLSX.utils.sheet_to_json(ws, {\n                header: 1,\n                raw: false\n            });\n            /* Update state */\n            this.setState({ data: data, cols: this.get_cols(ws) });\n            this.props.onLoadFile(this.state);\n        };\n        if (rABS) reader.readAsBinaryString(file);\n        else reader.readAsArrayBuffer(file);\n    }\n    /* generate an array of all spreadsheet data */\n\n    get_data = (ws, name) =>\n        Object.keys(ws)\n            .filter(cellName => cellName.match(name))\n            .map(cellName => ws[cellName].w)\n            .slice(0, this.LIMIT);\n\n    get_cols = ws => {\n        let o = [],\n            C = XLSX.utils.decode_range(ws[\"!ref\"]).e.c + 1;\n        for (var i = 0; i < C; ++i) {\n            const name = XLSX.utils.encode_col(i);\n            let data = this.get_data(ws, name);\n            const type = ws[name + \"2\"].t;\n            data =\n                type === \"n\"\n                    ? data.map((o, i) => (i > 0 ? Number(o) : o))\n                    : data;\n            o[i] = {\n                name: name,\n                head: ws[name + \"1\"].w,\n                key: i,\n                type: type,\n                distinctValuesCount: Array.from(new Set(data.slice(1))).length,\n                data: data\n            };\n        }\n        return o;\n    };\n    render() {\n        return (\n            <DragDropFile handleFile={this.handleFile}>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <DataInput handleFile={this.handleFile} />\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <OutTable\n                            data={this.state.data.slice(0, this.LIMIT)}\n                            cols={this.state.cols}\n                        />\n                    </div>\n                </div>\n            </DragDropFile>\n        );\n    }\n}\n\nexport default Spreadsheet;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport * as Plot from \"react-chartjs-2\";\n\nclass Bar extends React.Component {\n    acceptedDataframe = () => [\"n2P\", \"s2P\"];\n    render(props) {\n        return React.createElement(Plot.Bar, {\n            data: getConfigDefault(_.countBy(props.data.slice(1))),\n            options: {\n                title: {\n                    display: true,\n                    text: props.data[0]\n                }\n            }\n        });\n    }\n}\n\n// TODO dupicated code\nfunction getConfigDefault(data) {\n    return {\n        labels: Object.keys(data),\n        datasets: [\n            {\n                data: Object.values(data),\n                backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n                hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"]\n            }\n        ]\n    };\n}\n\nexport default Bar;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport * as Plot from \"react-chartjs-2\";\n\nclass Pie extends React.Component {\n    acceptedDataframe = () => [\"n1P\", \"s1P\"];\n    render(props) {\n        return React.createElement(Plot.Pie, {\n            data: getConfigDefault(_.countBy(props.data.slice(1))),\n            options: {\n                title: {\n                    display: true,\n                    text: props.data[0]\n                }\n            }\n        });\n    }\n}\n\nfunction getConfigDefault(data) {\n    return {\n        labels: Object.keys(data),\n        datasets: [\n            {\n                data: Object.values(data),\n                backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n                hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"]\n            }\n        ]\n    };\n}\n\nexport default Pie;\n","import BoxOrViolinPlot from \"./box-or-violin-plot\";\nimport \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\n\nclass BoxPlot extends BoxOrViolinPlot {\n    constructor(props) {\n        super(props);\n    }\n}\n\nexport default BoxPlot;\n","import React from \"react\";\nimport \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\n\nclass BoxOrViolinPlot extends React.Component {\n    constructor(props) {\n        super(props);\n        this.canvas = React.createRef();\n    }\n\n    componentDidMount() {\n        new window.Chart(this.canvas.current.getContext(\"2d\"), this.props.data); // TODO see the issue https://github.com/jerairrest/react-chartjs-2/issues/424\n    }\n\n    render() {\n        return <canvas ref={this.canvas} />;\n    }\n}\n\nexport default BoxOrViolinPlot;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\nimport BoxPlot from \"./box-plot\";\n\nclass Box extends React.Component {\n    acceptedDataframe = () => [\"n3P\"];\n    render(props) {\n        return React.createElement(BoxPlot, {\n            data: getConfigBox(props)\n        });\n    }\n}\nfunction getConfigBox(o) {\n    // TODO hardcoding\n    return {\n        type: \"boxplot\",\n        data: {\n            datasets: [\n                {\n                    label: o.data[0],\n                    borderColor: \"red\",\n                    borderWidth: 1,\n                    outlierRadius: 3,\n                    itemRadius: 3,\n                    outlierColor: \"#999999\",\n                    data: [o.data.slice(1)]\n                }\n            ]\n        },\n        options: {\n            responsive: true,\n            legend: {\n                position: \"top\"\n            },\n            scales: {\n                xAxes: [\n                    {\n                        categoryPercentage: 0.9,\n                        barPercentage: 0.8\n                    }\n                ]\n            }\n        }\n    };\n}\nexport default Box;\n","/**\n * calculates pearson correlation\n * @param {number[]} d1\n * @param {number[]} d2\n */\nexport function pearsonCorrelation(d1, d2) {\n    let { min, pow, sqrt } = Math;\n    let add = (a, b) => a + b;\n    let n = min(d1.length, d2.length);\n    if (n === 0) {\n        return 0;\n    }\n    [d1, d2] = [d1.slice(0, n), d2.slice(0, n)];\n    let [sum1, sum2] = [d1, d2].map(l => l.reduce(add));\n    let [pow1, pow2] = [d1, d2].map(l => l.reduce((a, b) => a + pow(b, 2), 0));\n    let mulSum = d1.map((n, i) => n * d2[i]).reduce(add);\n    let dense = sqrt((pow1 - pow(sum1, 2) / n) * (pow2 - pow(sum2, 2) / n));\n    if (dense === 0) {\n        return 0;\n    }\n    return (mulSum - (sum1 * sum2) / n) / dense;\n}\n","import React from \"react\";\nimport Highcharts from \"highcharts/highmaps\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport { pearsonCorrelation } from \"../../utils\";\nimport _ from \"lodash\";\n\nclass HeatMap extends React.Component {\n    acceptedDataframe = () => [\"heatMap\"];\n    render(props) {\n        return React.createElement(HighchartsReactPlot, {\n            options: getConfigHeatMap(props)\n        });\n    }\n}\n\nclass HighchartsReactPlot extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n    }\n    render() {\n        return (\n            <HighchartsReact\n                highcharts={Highcharts}\n                options={this.props.options}\n            />\n        );\n    }\n}\n\nfunction transformData(data, categories) {\n    data = getNumericValues(data);\n    return [].concat(\n        ...data.map((v, i) =>\n            data\n                .slice(i + 1)\n                .map((w, j) => [\n                    categories.indexOf(v[0]),\n                    categories.indexOf(w[0]),\n                    Math.abs(\n                        pearsonCorrelation(v.slice(1), w.slice(1)).toFixed(1)\n                    )\n                ])\n        )\n    );\n}\n\nfunction getConfigHeatMap(props) {\n    let data = props.data;\n    let categories = data.map(v => v[0]);\n    return {\n        title: {\n            text: null\n        },\n        chart: {\n            type: \"heatmap\"\n        },\n        xAxis: {\n            categories: categories\n        },\n        yAxis: {\n            categories: categories\n        },\n        colorAxis: {\n            min: 0,\n            minColor: \"#FFFFFF\",\n            maxColor: Highcharts.getOptions().colors[0]\n        },\n        tooltip: {\n            formatter: function() {\n                return (\n                    \"<b>\" +\n                    this.series.xAxis.categories[this.point.x] +\n                    \"</b> sold <br><b>\" +\n                    this.point.value +\n                    \"</b> items on <br><b>\" +\n                    this.series.yAxis.categories[this.point.y] +\n                    \"</b>\"\n                );\n            }\n        },\n        series: [\n            {\n                borderWidth: 1,\n                data: transformData(data, categories),\n                dataLabels: {\n                    enabled: true,\n                    color: \"#000000\"\n                }\n            }\n        ]\n    };\n}\n\nfunction getNumericValues(data) {\n    return data.map(v => {\n        if (typeof v[1] === \"string\") {\n            const uniq_v = _.uniq(v.slice(1));\n            return [v[0]].concat(v.slice(1).map(w => uniq_v.indexOf(w)));\n        }\n        return v;\n    });\n}\n\nexport default HeatMap;\n","import React from \"react\";\nimport Highcharts from \"highcharts/highmaps\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport _ from \"lodash\";\n\nclass LineTimeSeries extends React.Component {\n    acceptedDataframe = () => [\"d3P\"];\n    render(props, cols) {\n        return React.createElement(HighchartsReactPlot, {\n            options: getConfig(props, cols)\n        });\n    }\n}\n\nclass HighchartsReactPlot extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n    }\n    render() {\n        return (\n            <HighchartsReact\n                highcharts={Highcharts}\n                options={this.props.options}\n            />\n        );\n    }\n}\n\nfunction getConfig(props, cols) {\n    return {\n        title: {\n            text: \"Line Time Series\"\n        },\n        xAxis: {\n            categories: props.data.slice(1)\n        },\n        series: cols\n            .filter(o => o.normalized === \"n3P\")\n            .map(o => ({ name: o.data[0], data: o.data.slice(1) }))\n    };\n}\n\nexport default LineTimeSeries;\n","import React from \"react\";\n\nclass Reducer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props = props.cols\n            .filter(o => !this.arePK(o))\n            .filter(o => !this.areManyCategorical(o));\n        this.normalize();\n        return this.props;\n    }\n    areFLoat = nums => {\n        return nums.some(num => num % 1 !== 0);\n    };\n    areManyCategorical = o => o.type === \"s\" && o.distinctValuesCount > 5;\n    arePK = o => {\n        return (\n            o.type === \"n\" &&\n            o.distinctValuesCount === o.data.length - 1 &&\n            !this.areFLoat(o.data.slice(1))\n        );\n    };\n    strings2Numbers() {\n        this.props.cols.map(o =>\n            o.type === \"n\" ? o.map((o, i) => (i > 0 ? Number(o) : o)) : o\n        );\n    }\n    normalize() {\n        this.props.map(o => {\n            let result = String(o.distinctValuesCount);\n            let replaceMap = new Map();\n            replaceMap.set(/^[1-3]$/, \"1P\");\n            replaceMap.set(/^[4-9]$/, \"2P\");\n            replaceMap.set(/^[1-9]\\d{1,}$/, \"3P\");\n            replaceMap.forEach(function(newString, old) {\n                result = result.replace(old, o.type + newString);\n            });\n            o.normalized = result;\n        });\n    }\n}\n\nexport default Reducer;\n","import React from \"react\";\nimport \"./App.css\";\nimport SheetJSApp from \"./services/spreadsheet\";\nimport { renderPlot } from \"./services/plot\";\nimport Reducer from \"./reducer\";\n\nclass App extends React.Component {\n    state = {\n        data: [],\n        cols: []\n    };\n    handleLoadFile = state => {\n        this.setState({ cols: new Reducer(state) });\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.state.cols.length > 0 && (\n                    <div className=\"row\">{renderPlot(this.state.cols)}</div>\n                )}\n                <SheetJSApp\n                    data={this.state.data}\n                    onLoadFile={this.handleLoadFile}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport * as Plot from \"../../services/plot/index.jsx\";\n\nexport function renderPlot(cols) {\n    let plotDispatcher = {};\n    Object.values(Plot).forEach(className => {\n        let aDFs = Reflect.construct(className, [])[\"acceptedDataframe\"]();\n        aDFs.forEach(aDF => (plotDispatcher[aDF] = className));\n    });\n    cols = [\n        {\n            normalized: \"heatMap\",\n            data: cols.map(o => o.data),\n            className: \"col-lg-12 col-md-12\"\n        }\n    ].concat(cols);\n    return cols.map(\n        (o, i) =>\n            plotDispatcher[o.normalized] &&\n            React.createElement(\n                \"div\",\n                { className: o.className || \"col-lg-4 col-md-6\", key: i },\n                Reflect.construct(plotDispatcher[o.normalized], [])[\"render\"](\n                    o,\n                    cols\n                )\n            )\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport * as serviceWorker from 'react-scripts/template/src/serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}